<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Caesar Cipher Puzzle with Contact Links</title>
<style>
  body {
    background: #1e1e1e;
    color: #ddd;
    font-family: 'Segoe UI', Tahoma, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    height: 100vh;
    margin: 0;
    user-select: none;
    padding-top: 20px;
  }
  .contacts {
    margin-bottom: 20px;
    font-size: 1em;
  }
  .contacts a {
    color: #00cccc;
    margin: 0 15px;
    text-decoration: none;
    font-weight: 600;
  }
  .contacts a:hover {
    text-decoration: underline;
  }
  .container {
    background: #2d2d2d;
    padding: 30px 40px;
    border-radius: 8px;
    max-width: 480px;
    width: 90%;
    box-shadow: 0 0 10px #000000aa;
    text-align: center;
  }
  input[type="number"] {
    width: 80px;
    font-size: 1.1em;
    padding: 8px;
    border-radius: 4px;
    border: 1px solid #555;
    background: #121212;
    color: #ddd;
    margin-top: 15px;
  }
  button {
    margin-top: 15px;
    padding: 10px 20px;
    background: #444;
    border: none;
    border-radius: 4px;
    color: #ddd;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.25s ease;
  }
  button:hover {
    background: #555;
  }
  .message {
    margin-top: 25px;
    font-size: 1.1em;
    min-height: 2em;
  }
  .decrypted {
    margin-top: 15px;
    font-weight: 600;
    color: #a0a0a0;
    word-wrap: break-word;
    white-space: pre-wrap;
  }
  #encrypted {
    font-size: 1.3em;
    letter-spacing: 2px;
    user-select: text;
    background: #1b1b1b;
    padding: 12px 15px;
    border-radius: 6px;
    margin-top: 10px;
    font-family: monospace, monospace;
  }
  #hint {
    margin-top: 20px;
    font-style: italic;
    color: #888;
    min-height: 3em;
  }
  #bonus-links {
    margin-top: 25px;
    font-size: 1em;
  }
  #bonus-links a {
    color: #66ffcc;
    margin: 0 12px;
    text-decoration: none;
    font-weight: 700;
  }
  #bonus-links a:hover {
    text-decoration: underline;
  }
</style>
</head>
<body>
  <div class="contacts">
    <a href="mailto:youremail@example.com" target="_blank" rel="noopener noreferrer">Email</a>
    <a href="https://youtube.com/yourchannel" target="_blank" rel="noopener noreferrer">YouTube</a>
    <a href="https://twitter.com/yourhandle" target="_blank" rel="noopener noreferrer">Twitter</a>
  </div>

  <div class="container">
    <h1>Caesar Cipher Puzzle</h1>
    <p>Decrypt the message by entering the correct shift key (a number from 1 to 25):</p>
    <div id="encrypted"></div>
    <input type="number" id="keyInput" min="1" max="25" placeholder="Key" />
    <br />
    <button id="decryptBtn">Decrypt</button>
    <div class="message" id="resultMessage"></div>
    <div class="decrypted" id="decryptedText"></div>
    <div id="hint"></div>
    <div id="bonus-links" style="display:none;">
      <p>Congrats! Here are more ways to connect:</p>
      <a href="https://linkedin.com/in/yourprofile" target="_blank" rel="noopener noreferrer">LinkedIn</a>
      <a href="https://github.com/yourgithub" target="_blank" rel="noopener noreferrer">GitHub</a>
      <a href="https://discord.gg/yourdiscord" target="_blank" rel="noopener noreferrer">Discord</a>
    </div>
  </div>

  <script>
    const secretKey = 7; // hidden shift key
    const originalText = "HELLO, VaeDeveloper! THIS IS A CAESAR CIPHER PUZZLE.";

    function caesarShift(str, shift) {
      return str.split('').map(char => {
        const code = char.charCodeAt(0);
        if (code >= 65 && code <= 90) {
          return String.fromCharCode(((code - 65 + shift + 26) % 26) + 65);
        } else if (code >= 97 && code <= 122) {
          return String.fromCharCode(((code - 97 + shift + 26) % 26) + 97);
        } else {
          return char;
        }
      }).join('');
    }

    const encryptedText = caesarShift(originalText, secretKey);
    document.getElementById('encrypted').textContent = encryptedText;

    const decryptBtn = document.getElementById('decryptBtn');
    const keyInput = document.getElementById('keyInput');
    const resultMessage = document.getElementById('resultMessage');
    const decryptedText = document.getElementById('decryptedText');
    const hintElem = document.getElementById('hint');
    const bonusLinks = document.getElementById('bonus-links');

    let attempts = 0;

    const hints = [
      "The cipher shifts letters by the same number each time.",
      "Try the number 7 as your key.",
      "Each letter is shifted by 7 places in the alphabet.",
      "To decrypt, shift letters backwards by 7.",
      "Key is less than 10 and more than 5.",
      "The key is a prime number.",
      "The key divides 21 (3 × 7).",
      "The key is the number of days in a week.",
      "Shift = 7 = 2³ - 1."
    ];

    decryptBtn.onclick = () => {
      const userKey = parseInt(keyInput.value, 10);
      attempts++;

      if (isNaN(userKey) || userKey < 1 || userKey > 25) {
        resultMessage.textContent = "Please enter a number from 1 to 25.";
        decryptedText.textContent = "";
        hintElem.textContent = "";
        bonusLinks.style.display = "none";
        return;
      }

      if (userKey === secretKey) {
        resultMessage.textContent = "Correct! The decrypted message is:";
        decryptedText.textContent = caesarShift(encryptedText, -userKey);
        hintElem.textContent = "";
        bonusLinks.style.display = "block";
      } else {
        resultMessage.textContent = "Incorrect key. Try again.";
        decryptedText.textContent = "";
        bonusLinks.style.display = "none";
        // Show hints progressively (max last hint)
        const hintIndex = Math.min(attempts - 1, hints.length - 1);
        hintElem.textContent = "Hint: " + hints[hintIndex];
      }
    };
  </script>
</body>
</html>
